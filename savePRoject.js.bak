


var allOldComponents = $('section.old-component').each(function(i, element){

  var componentId = $(element).attr('componentId');


  var newElements = $(element).find($('.new-group-elements')).each(function(i, element){
      var that = this;

      this.elementsObj = {};

      var desc = $(element).find('input#element-description').each(function(i, element){
        that.elementsObj['description'] = $(element).val();
      });

      var content = $(element).find('input#content').each(function(i, element){
        that.elementsObj['content'] = $(element).val();
      })

      self.elementsArr.push(this.elementsObj);

  });

      self.elementsArr['componentId'] = componentId;
      // console.log(self.elementsArr.length);
      // console.log(self.elementsArr);
      console.log(componentId);

});

console.log(self.elementsArr)

return;


===================




var component = [];
var el = []


var components = $('section.component').map(function(i, element){

    var name = $(element).attr('component-name');


    var componentByName = $(element).find("[component-name='" + name + "']");

    component.push({name: name, elements:[] })


    var elementDescriptions = $(element).find($('input#element-description')).map(function(i, element){
      console.log('element desc:');

      //  component[i].elements[i].push({ description: $(element).val() })
      return $(element).val();

    });



    var elementTypes = $(element).find($('select#element-type')).map(function(i, element){
      console.log('element type:');
      return $(element).val();

    });

    var content = $(element).find($('input#content')).map(function(i, element){
      console.log('content:');
      return $(element).val();

    });

    var allElements = $(element).find($('input, select')).map(function(i, element){
      console.log('all:');
      // console.log(element)



      return $(element).val();

    });




    // angular.forEach(component, function(key, value){
    //   console.log(key.elements)
    //
    //     key.elements.push({ description: elementDescriptions})
    //     // component[name].push({ description: key, 'marciano': 'test'})
    //
    //     // component[name].push( { description: key } )
    //
    //     // component.elements = {description: elementDescriptions }
    //
    // })

    // component[name] = { description: elementDescriptions, type: elementTypes, content: content };

    angular.forEach(component, function(elements, i, value){
        // console.log(elements.elements)
        // console.log(elementDescriptions)
        //
        // elements.elements.push({description: 'test'})

         elements.elements[i] = { description: elementDescriptions, type: elementTypes, content: content };

        console.log('elementDescriptions');
        console.log(elementDescriptions[i]);
        // el.push({description: elementDescriptions[i]})
        //
        // elements.elements = el;

    });

    component['test'] = 'hoi';
});



console.log(component)


// var elementDescriptions = componentByName.find($('input#element-description')).map(function(i, element){
//    console.log('element descriptions:');
//
//   // console.log(components);
//     data[name] = $(element).val();
//  //  console.log($(element).val());
// });




// console.log(components.find($('input#element-description')));


// var elementTypes = $('select#element-type').map(function(i, element){
//   console.log('element types:');
//   console.log($(element).val());
// });
//
// var content = $('input#content').map(function(i, element){
//   console.log('element content:');
//   console.log($(element).val());
// });


====================



              var description = $(element).find($("input#element-description")).each(function(i, element){

                  self.element = {
                      description: $(element).val()
                  }


                  // Components.update({name: componentByName }, )

                  console.log(self.element)
              });
